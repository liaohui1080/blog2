(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{416:function(t,s,a){"use strict";a.r(s);var e=a(19),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-omp-error-initializing-libiomp5md-dll-but-found-libiomp5md-dll-already-initialized"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-omp-error-initializing-libiomp5md-dll-but-found-libiomp5md-dll-already-initialized"}},[t._v("#")]),t._v(" 1. OMP: Error   Initializing libiomp5md.dll, but found libiomp5md.dll already initialized.")]),t._v(" "),s("h3",{attrs:{id:"错误原因"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#错误原因"}},[t._v("#")]),t._v(" 错误原因")]),t._v(" "),s("p",[t._v("OpenMP 运行时的多个副本已链接到程序中。这可能导致性能下降或不正确的结果")]),t._v(" "),s("h3",{attrs:{id:"错误代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#错误代码"}},[t._v("#")]),t._v(" 错误代码")]),t._v(" "),s("blockquote",[s("p",[t._v("OMP: Error #15: Initializing libiomp5md.dll, but found libiomp5md.dll already initialized.\nOMP: Hint This means that multiple copies of the OpenMP runtime have been linked into the program. That is dangerous, since it can degrade performance or cause incorrect results. The best thing to do is to ensure that only a single OpenMP runtime is linked into the process, e.g. by avoiding static linking of the OpenMP runtime in any library. As an unsafe, unsupported, undocumented workaround you can set the environment variable KMP_DUPLICATE_LIB_OK=TRUE to allow the program to continue to execute, but that may cause crashes or silently produce incorrect results. For more information, please see http://www.intel.com/software/products/support/.")])]),t._v(" "),s("h3",{attrs:{id:"解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[t._v("#")]),t._v(" 解决方案")]),t._v(" "),s("p",[t._v("解决方法：代码前加入两行如下代码即可")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" os\nos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("environ"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"KMP_DUPLICATE_LIB_OK"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TRUE"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h2",{attrs:{id:"_2-yolov5中的-torchvision-nms-错误问题解决方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-yolov5中的-torchvision-nms-错误问题解决方法"}},[t._v("#")]),t._v(' 2. YOLOv5中的"torchvision::nms"错误问题解决方法')]),t._v(" "),s("h3",{attrs:{id:"错误原因-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#错误原因-2"}},[t._v("#")]),t._v(" 错误原因")]),t._v(" "),s("blockquote",[s("p",[t._v("“torchvision::nms”是PyTorch库中的一个函数，用于实现非极大值抑制（Non-Maximum Suppression，NMS）。NMS是物体检测算法中的一个重要步骤，它能够帮助我们去除冗余的检测框，保留最佳的预测结果。\n'torchvision::nms’无法在’cuda’后端运行。通常，这种问题出现在以下两种情况：")])]),t._v(" "),s("ol",[s("li",[t._v("PyTorch与Torchvision版本不匹配\n如果正在使用的PyTorch版本和Torchvision版本之间存在不兼容性，就可能会遇到这个问题。这是因为Torchvision库的某些功能依赖于特定版本的PyTorch，当两者版本不匹配时，就可能导致问题。")]),t._v(" "),s("li",[t._v("CUDA版本问题\n另一种可能的原因是CUDA版本问题。具体来说，如果安装的CUDA版本与PyTorch或Torchvision所需的版本不符，也可能会出现此问题。")])]),t._v(" "),s("h3",{attrs:{id:"错误代码-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#错误代码-2"}},[t._v("#")]),t._v(" 错误代码")]),t._v(" "),s("blockquote",[s("p",[t._v("NotImplementedError: Could not run 'torchvision::nms' with arguments from the 'CUDA' backend. This could be because the operator doesn't exist for this backend, or was omitted during the selective/custom build process (if using custom build). If you are a Facebook employee using PyTorch on mobile, please visit https://fburl.com/ptmfixes for possible resolutions. 'torchvision::nms' is only available for these backends")])]),t._v(" "),s("h3",{attrs:{id:"解决方案-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案-2"}},[t._v("#")]),t._v(" 解决方案")]),t._v(" "),s("ol",[s("li",[t._v("确保PyTorch和Torchvision版本匹配")])]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" torch\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" torchvision\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__version__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#返回纯数字是正确的")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("torchvision"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__version__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 返回纯数字是正确的 ")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("返回数据类似这样的就是正常的。")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("如果里面有 cpu 这些字段就是版本不匹配，尽量不要安装最新版\n2.0.0\n0.15.0\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("如果发现版本不匹配，可以通过卸载,然后去pytorch重新安装，目前安装2.0比较正常：")])]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("pip uninstall torch torchvision  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#卸载pytorch")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("确保CUDA版本和pytorch里需要的版本一样")])]),t._v(" "),s("blockquote",[s("p",[t._v("下面命令查看cuda版本，如果cuda版本是1.8 ，那么在安装pytorch的时候就要选择1.8版本的cuda安装，pytorch网站上有对应的选项。")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("nvcc "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--version")]),t._v("   \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("blockquote",[s("p",[t._v("cuda版本可以低于 nvidia-smi里显卡显示的cuda版本，因为高版本的cuda可以兼容低版本的。")])])])}),[],!1,null,null,null);s.default=n.exports}}]);